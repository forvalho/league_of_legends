require_relative '../spec_helper'

describe ::LeagueOfLegends::DTO::RecentGames do

  let(:json) { '{"summonerId":50519866,"games":[
    {"gameId":1316392770,"invalid":false,"gameMode":"CLASSIC","gameType":"MATCHED_GAME","subType":"NORMAL","mapId":1,"teamId":200,"championId":22,"spell1":21,"spell2":6,"level":11,"createDate":1391913992873,"fellowPlayers":[{"summonerId":46493314,"teamId":100,"championId":7},{"summonerId":49460388,"teamId":200,"championId":222},{"summonerId":52345403,"teamId":100,"championId":34},{"summonerId":19474335,"teamId":200,"championId":37},{"summonerId":46825692,"teamId":100,"championId":222},{"summonerId":20901501,"teamId":100,"championId":26},{"summonerId":49574516,"teamId":200,"championId":1},{"summonerId":38380347,"teamId":100,"championId":77},{"summonerId":32957220,"teamId":200,"championId":77}],"stats":{"level":12,"goldEarned":6372,"numDeaths":6,"minionsKilled":76,"goldSpent":5375,"totalDamageDealt":67406,"totalDamageTaken":19667,"team":200,"win":false,"neutralMinionsKilled":8,"physicalDamageDealtPlayer":64404,"magicDamageDealtPlayer":3002,"physicalDamageTaken":7819,"magicDamageTaken":11789,"largestCriticalStrike":327,"timePlayed":1965,"totalHeal":720,"totalUnitsHealed":1,"assists":1,"item0":1055,"item1":1051,"item2":3072,"item3":1001,"item4":3093,"item5":1042,"item6":3350,"magicDamageDealtToChampions":1575,"physicalDamageDealtToChampions":10703,"totalDamageDealtToChampions":12278,"trueDamageTaken":58,"wardPlaced":4,"neutralMinionsKilledYourJungle":8,"totalTimeCrowdControlDealt":534}},
    {"gameId":1316359666,"invalid":false,"gameMode":"ARAM","gameType":"MATCHED_GAME","subType":"ARAM_UNRANKED_5x5","mapId":12,"teamId":100,"championId":60,"spell1":6,"spell2":7,"level":11,"createDate":1391911434692,"fellowPlayers":[{"summonerId":42852740,"teamId":200,"championId":11},{"summonerId":37107501,"teamId":200,"championId":121},{"summonerId":38367203,"teamId":200,"championId":267},{"summonerId":51749178,"teamId":100,"championId":54},{"summonerId":39333491,"teamId":200,"championId":22},{"summonerId":37107489,"teamId":200,"championId":99},{"summonerId":41532651,"teamId":100,"championId":64},{"summonerId":49574516,"teamId":100,"championId":61},{"summonerId":27490746,"teamId":100,"championId":15}],"stats":{"level":16,"goldEarned":8523,"numDeaths":7,"minionsKilled":26,"championsKilled":1,"goldSpent":7440,"totalDamageDealt":26390,"totalDamageTaken":14550,"team":100,"win":false,"largestMultiKill":1,"physicalDamageDealtPlayer":7079,"magicDamageDealtPlayer":19310,"physicalDamageTaken":6504,"magicDamageTaken":7924,"timePlayed":1333,"totalHeal":2506,"totalUnitsHealed":7,"assists":5,"item0":3001,"item1":2003,"item2":3136,"item3":1001,"item4":3089,"item6":2052,"magicDamageDealtToChampions":5234,"physicalDamageDealtToChampions":980,"totalDamageDealtToChampions":6215,"trueDamageTaken":122,"totalTimeCrowdControlDealt":16}},
    {"gameId":1316339805,"invalid":false,"gameMode":"CLASSIC","gameType":"MATCHED_GAME","subType":"NORMAL","mapId":1,"teamId":100,"championId":30,"spell1":21,"spell2":6,"level":11,"createDate":1391909674553,"fellowPlayers":[{"summonerId":309763,"teamId":200,"championId":119},{"summonerId":41595817,"teamId":200,"championId":55},{"summonerId":50378000,"teamId":200,"championId":11},{"summonerId":48911186,"teamId":200,"championId":75},{"summonerId":52144394,"teamId":100,"championId":24},{"summonerId":51680198,"teamId":200,"championId":60},{"summonerId":40460673,"teamId":100,"championId":29},{"summonerId":49574516,"teamId":100,"championId":1},{"summonerId":27490746,"teamId":100,"championId":17}],"stats":{"level":14,"goldEarned":6970,"numDeaths":5,"minionsKilled":60,"championsKilled":3,"goldSpent":5655,"totalDamageDealt":56351,"totalDamageTaken":10133,"team":100,"win":true,"neutralMinionsKilled":8,"largestMultiKill":1,"physicalDamageDealtPlayer":13885,"magicDamageDealtPlayer":42466,"physicalDamageTaken":5803,"magicDamageTaken":3581,"timePlayed":1734,"assists":5,"item0":1052,"item1":2003,"item2":3040,"item3":1026,"item4":1001,"item5":1058,"item6":3350,"magicDamageDealtToChampions":9617,"physicalDamageDealtToChampions":1129,"totalDamageDealtToChampions":10746,"trueDamageTaken":748,"neutralMinionsKilledYourJungle":8,"totalTimeCrowdControlDealt":333}},
    {"gameId":1316310555,"invalid":false,"gameMode":"CLASSIC","gameType":"MATCHED_GAME","subType":"NORMAL","mapId":1,"teamId":100,"championId":22,"spell1":21,"spell2":6,"level":11,"createDate":1391906769228,"fellowPlayers":[{"summonerId":42963859,"teamId":200,"championId":23},{"summonerId":52518093,"teamId":200,"championId":11},{"summonerId":52526851,"teamId":100,"championId":80},{"summonerId":47067555,"teamId":200,"championId":121},{"summonerId":50911954,"teamId":100,"championId":121},{"summonerId":50930124,"teamId":100,"championId":75},{"summonerId":44533004,"teamId":200,"championId":10},{"summonerId":49574516,"teamId":100,"championId":1},{"summonerId":51317797,"teamId":200,"championId":19}],"stats":{"level":15,"goldEarned":9574,"numDeaths":9,"minionsKilled":109,"championsKilled":5,"goldSpent":6700,"totalDamageDealt":92515,"totalDamageTaken":21869,"killingSprees":1,"largestKillingSpree":2,"team":100,"win":false,"neutralMinionsKilled":5,"largestMultiKill":1,"physicalDamageDealtPlayer":77059,"magicDamageDealtPlayer":15456,"physicalDamageTaken":14502,"magicDamageTaken":6939,"largestCriticalStrike":349,"timePlayed":2107,"totalHeal":970,"totalUnitsHealed":1,"assists":3,"item0":1055,"item1":2003,"item2":3006,"item3":3072,"item4":3087,"item6":3350,"magicDamageDealtToChampions":4412,"physicalDamageDealtToChampions":13580,"totalDamageDealtToChampions":17993,"trueDamageTaken":427,"wardPlaced":2,"neutralMinionsKilledYourJungle":5,"totalTimeCrowdControlDealt":746}},
    {"gameId":1316258305,"invalid":false,"gameMode":"CLASSIC","gameType":"MATCHED_GAME","subType":"NORMAL","mapId":1,"teamId":200,"championId":22,"spell1":21,"spell2":6,"level":11,"createDate":1391904184886,"fellowPlayers":[{"summonerId":50741248,"teamId":200,"championId":98},{"summonerId":51845718,"teamId":100,"championId":11},{"summonerId":51942528,"teamId":200,"championId":15},{"summonerId":52513745,"teamId":200,"championId":60},{"summonerId":52778920,"teamId":100,"championId":119},{"summonerId":48887221,"teamId":100,"championId":91},{"summonerId":49657256,"teamId":100,"championId":1},{"summonerId":49574516,"teamId":200,"championId":1},{"summonerId":52416209,"teamId":100,"championId":23}],"stats":{"level":10,"goldEarned":5885,"numDeaths":2,"minionsKilled":59,"championsKilled":5,"goldSpent":3250,"totalDamageDealt":42710,"totalDamageTaken":8415,"doubleKills":1,"killingSprees":1,"largestKillingSpree":4,"team":200,"win":true,"neutralMinionsKilled":3,"largestMultiKill":2,"physicalDamageDealtPlayer":41100,"magicDamageDealtPlayer":1609,"physicalDamageTaken":5918,"magicDamageTaken":1847,"largestCriticalStrike":279,"timePlayed":1217,"totalHeal":656,"totalUnitsHealed":1,"assists":1,"item0":1055,"item1":1038,"item2":3006,"item3":1053,"item4":3093,"item6":3350,"magicDamageDealtToChampions":1025,"physicalDamageDealtToChampions":3871,"totalDamageDealtToChampions":4897,"trueDamageTaken":650,"wardPlaced":2,"neutralMinionsKilledYourJungle":3,"totalTimeCrowdControlDealt":338}},
    {"gameId":1316148661,"invalid":false,"gameMode":"CLASSIC","gameType":"MATCHED_GAME","subType":"NORMAL","mapId":1,"teamId":100,"championId":121,"spell1":21,"spell2":6,"level":11,"createDate":1391902184432,"fellowPlayers":[{"summonerId":52487343,"teamId":200,"championId":61},{"summonerId":46434425,"teamId":100,"championId":55},{"summonerId":46937748,"teamId":200,"championId":60},{"summonerId":29301135,"teamId":200,"championId":121},{"summonerId":52218624,"teamId":100,"championId":98},{"summonerId":51840637,"teamId":200,"championId":22},{"summonerId":49574516,"teamId":100,"championId":1},{"summonerId":44641636,"teamId":100,"championId":54},{"summonerId":51865487,"teamId":200,"championId":157}],"stats":{"level":18,"goldEarned":11892,"numDeaths":5,"minionsKilled":132,"goldSpent":7307,"totalDamageDealt":148847,"totalDamageTaken":25442,"team":100,"win":true,"neutralMinionsKilled":37,"physicalDamageDealtPlayer":147954,"magicDamageDealtPlayer":446,"physicalDamageTaken":22017,"magicDamageTaken":3198,"timePlayed":2614,"totalHeal":5994,"totalUnitsHealed":1,"assists":6,"item0":3042,"item1":3134,"item2":3158,"item3":3156,"item4":1053,"item6":3352,"sightWardsBought":1,"magicDamageDealtToChampions":446,"physicalDamageDealtToChampions":4885,"totalDamageDealtToChampions":5387,"trueDamageDealtPlayer":446,"trueDamageDealtToChampions":56,"trueDamageTaken":226,"wardPlaced":1,"neutralMinionsKilledEnemyJungle":7,"neutralMinionsKilledYourJungle":30,"totalTimeCrowdControlDealt":643}},
    {"gameId":1316088808,"invalid":false,"gameMode":"CLASSIC","gameType":"MATCHED_GAME","subType":"NORMAL","mapId":1,"teamId":100,"championId":30,"spell1":21,"spell2":6,"level":11,"createDate":1391899006603,"fellowPlayers":[{"summonerId":45966471,"teamId":100,"championId":64},{"summonerId":45882920,"teamId":200,"championId":75},{"summonerId":51686205,"teamId":200,"championId":10},{"summonerId":49161030,"teamId":200,"championId":21},{"summonerId":45833001,"teamId":200,"championId":60},{"summonerId":52406766,"teamId":100,"championId":121},{"summonerId":40916861,"teamId":200,"championId":267},{"summonerId":46771771,"teamId":100,"championId":17},{"summonerId":49574516,"teamId":100,"championId":1}],"stats":{"level":13,"goldEarned":5648,"numDeaths":5,"minionsKilled":76,"championsKilled":1,"goldSpent":4860,"totalDamageDealt":57262,"totalDamageTaken":14485,"team":100,"win":false,"neutralMinionsKilled":1,"largestMultiKill":1,"physicalDamageDealtPlayer":8427,"magicDamageDealtPlayer":48834,"physicalDamageTaken":7498,"magicDamageTaken":6987,"timePlayed":1736,"assists":2,"item0":1001,"item1":1052,"item2":3003,"item3":1028,"item4":1026,"item6":3350,"magicDamageDealtToChampions":8333,"physicalDamageDealtToChampions":414,"totalDamageDealtToChampions":8748,"wardPlaced":5,"neutralMinionsKilledEnemyJungle":1,"totalTimeCrowdControlDealt":100}},
    {"gameId":1315880573,"invalid":false,"gameMode":"CLASSIC","gameType":"CUSTOM_GAME","subType":"NONE","mapId":1,"teamId":100,"championId":30,"spell1":21,"spell2":6,"level":11,"createDate":1391896857661,"fellowPlayers":[{"summonerId":49574516,"teamId":100,"championId":1}],"stats":{"level":18,"goldEarned":13161,"numDeaths":3,"barracksKilled":1,"turretsKilled":1,"minionsKilled":100,"championsKilled":8,"goldSpent":12710,"totalDamageDealt":132620,"totalDamageTaken":19204,"doubleKills":1,"killingSprees":1,"largestKillingSpree":8,"team":100,"win":true,"neutralMinionsKilled":23,"largestMultiKill":2,"physicalDamageDealtPlayer":28065,"magicDamageDealtPlayer":104555,"physicalDamageTaken":12800,"magicDamageTaken":5998,"timePlayed":2764,"assists":7,"item0":3020,"item1":3116,"item2":3089,"item3":3027,"item4":3135,"item6":3350,"magicDamageDealtToChampions":26419,"physicalDamageDealtToChampions":2505,"totalDamageDealtToChampions":28924,"trueDamageTaken":405,"wardPlaced":3,"neutralMinionsKilledEnemyJungle":11,"neutralMinionsKilledYourJungle":12,"totalTimeCrowdControlDealt":234}},
    {"gameId":1315745391,"invalid":false,"gameMode":"CLASSIC","gameType":"MATCHED_GAME","subType":"NORMAL","mapId":1,"teamId":200,"championId":22,"spell1":21,"spell2":6,"level":11,"createDate":1391893281615,"fellowPlayers":[{"summonerId":52309508,"teamId":100,"championId":75},{"summonerId":48904402,"teamId":200,"championId":17},{"summonerId":51854975,"teamId":200,"championId":55},{"summonerId":52582062,"teamId":100,"championId":267},{"summonerId":51661064,"teamId":100,"championId":8},{"summonerId":49574516,"teamId":200,"championId":1},{"summonerId":25677141,"teamId":100,"championId":121},{"summonerId":52594175,"teamId":100,"championId":15},{"summonerId":21036920,"teamId":200,"championId":121}],"stats":{"level":15,"goldEarned":9201,"numDeaths":6,"minionsKilled":111,"championsKilled":1,"goldSpent":4560,"totalDamageDealt":100517,"totalDamageTaken":16506,"team":200,"win":false,"neutralMinionsKilled":9,"largestMultiKill":1,"physicalDamageDealtPlayer":82840,"magicDamageDealtPlayer":17677,"physicalDamageTaken":10901,"magicDamageTaken":5053,"largestCriticalStrike":248,"timePlayed":2232,"totalHeal":1040,"totalUnitsHealed":1,"assists":6,"item0":1055,"item1":3046,"item2":3006,"item3":1053,"item4":3087,"item6":3350,"magicDamageDealtToChampions":4085,"physicalDamageDealtToChampions":8305,"totalDamageDealtToChampions":12391,"trueDamageTaken":551,"wardPlaced":8,"neutralMinionsKilledEnemyJungle":1,"neutralMinionsKilledYourJungle":8,"totalTimeCrowdControlDealt":629}},
    {"gameId":1315589138,"invalid":false,"gameMode":"CLASSIC","gameType":"MATCHED_GAME","subType":"NORMAL","mapId":1,"teamId":100,"championId":22,"spell1":21,"spell2":6,"level":11,"createDate":1391890669788,"fellowPlayers":[{"summonerId":41791484,"teamId":200,"championId":24},{"summonerId":52531406,"teamId":200,"championId":30},{"summonerId":51319422,"teamId":100,"championId":24},{"summonerId":52338623,"teamId":200,"championId":20},{"summonerId":50943779,"teamId":200,"championId":23},{"summonerId":49574516,"teamId":100,"championId":1},{"summonerId":42617709,"teamId":100,"championId":238},{"summonerId":52148831,"teamId":200,"championId":22},{"summonerId":21036920,"teamId":100,"championId":121}],"stats":{"level":18,"goldEarned":19512,"numDeaths":17,"turretsKilled":1,"minionsKilled":176,"championsKilled":9,"goldSpent":15225,"totalDamageDealt":222425,"totalDamageTaken":38272,"killingSprees":3,"largestKillingSpree":3,"team":100,"win":true,"neutralMinionsKilled":21,"largestMultiKill":1,"physicalDamageDealtPlayer":193578,"magicDamageDealtPlayer":28098,"physicalDamageTaken":18684,"magicDamageTaken":19007,"largestCriticalStrike":701,"timePlayed":3480,"totalHeal":1062,"totalUnitsHealed":1,"assists":13,"item0":3031,"item1":3153,"item2":3251,"item3":3087,"item4":3035,"item5":3102,"item6":3350,"magicDamageDealtToChampions":5344,"physicalDamageDealtToChampions":16669,"totalDamageDealtToChampions":22014,"trueDamageDealtPlayer":748,"trueDamageTaken":580,"wardPlaced":7,"neutralMinionsKilledEnemyJungle":5,"neutralMinionsKilledYourJungle":16,"totalTimeCrowdControlDealt":1283}}]}' }
  let(:dto){ described_class.new(json) }

  it "has attributes" do
    expect(dto.games).to be_an_instance_of Array
    expect(dto.games.size).to eq 10

    dto.games.each do |game|
      expect(game).to be_an_instance_of ::LeagueOfLegends::DTO::Game
    end
  end

  it "has a version" do
    expect(described_class.version).to eq 'v1.3'
  end

end